<?php // -*-PHP-*-
require ('./groups.inc.php');

$groups = array();

$groups[] = getGroupsFromGroupsDn(array("(cn=*)"));

foreach (array(false, true) as $is_prev) {
  $groups[] = getGroupsFromDiplomaDnOrPrev(array("(description=*)"), $is_prev);
}

$groupsStructures = getGroupsFromStructuresDn(array("(&(supannCodeEntite=*)(ou=*))"));
$groups[] = remove_businessCategory($groupsStructures);

$groups[] = getGroupsFromAffiliations(array_keys($AFFILIATION2TEXT), $groupsStructures);

$all_groups = array_flatten_non_rec($groups);
remove_rawKey($all_groups);
echoJson($all_groups);

?>
